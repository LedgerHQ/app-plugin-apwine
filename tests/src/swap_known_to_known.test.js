import 'core-js/stable';
import 'regenerator-runtime/runtime';
import { waitForAppScreen, zemu } from './test.fixture';

test('swapExactAmountIn', zemu(async (sim, eth) => {
    // https://etherscan.io/tx/0xe37ea66c6ab66f21abcf7506e22a8afbd5fcea5ba638cbd4fcad990fcf417243
    const tx = eth.signTransaction(
        "44'/60'/0'/0/0",
        '0x02f902540182026a841e65fb8085037e11d600830ba6a994b6e370d83a180ea3667db41a2acfaf605fa0378880b901e42e948b7b000000000000000000000000c61c0f4961f2093a083f47a4b783ad260deaf7ea00000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000019eab1d8c5d7b91af00000000000000000000000000000000000000000000000024de8fa0ca147f5e000000000000000000000000abc508dda7517f195e416d77c822a4861961947a0000000000000000000000000000000000000000000000000000017f86dbf87500000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001c080a0214b0ee709185611e52735ac93b8563f834b437ffeff76f08856fb52143c58d2a033693b8d2cd5d153ee848ca1a3df312b7503adc79cc5bd66757e95bce5cce2eb',
    );
    await waitForAppScreen(sim);
    await sim.navigateAndCompareSnapshots('.', 'swap_exact_amount_in', [8, 0]);

    await tx;
}));
