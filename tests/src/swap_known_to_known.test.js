import 'core-js/stable';
import 'regenerator-runtime/runtime';
import { waitForAppScreen, zemu } from './test.fixture';

test('swapExactAmountIn', zemu(async (sim, eth) => {
    // https://etherscan.io/tx/0x1f01f4fd3cc696f552cf7af9b6fd16d74a902a28f779d3b9b80caead6bf8e91c
    const tx = eth.signTransaction(
        "44'/60'/0'/0/0",
        '0x02f901f40182025a8424c832e085043a8ba7208305688894b6e370d83a180ea3667db41a2acfaf605fa0378880b901842e948b7b000000000000000000000000bc35b70ccc8ef4ec1ccc34fab60ccbba162011e400000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000b6f588aa7bcf5c0000000000000000000000000000000000000000000000000e0d7d8865ee32c08b06000000000000000000000000abc508dda7517f195e416d77c822a4861961947a0000000000000000000000000000000000000000000000000000017f7e78a2eb00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001c080a0e4b1fadaabc30d5827bd90d6a1fa42f220de7792611ab0fdbb83a3c2d02fcddda02eaf7fb7139977758d273419e1eaa5251e68c7161bac216331216a138dd9e387',
    );
    await waitForAppScreen(sim);
    await sim.navigateAndCompareSnapshots('.', 'swap_exact_amount_in', [8, 0]);

    await tx;
}));
